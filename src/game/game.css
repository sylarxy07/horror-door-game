*{box-sizing:border-box}
html,body,#root{margin:0;height:100%;background:#070a10}
body{font-family:Inter,system-ui,Arial,sans-serif;color:#eef2fb}
.app{min-height:100vh;background:#070a10;color:#eef2fb;position:relative;overflow:hidden}
.screen{min-height:100vh;display:grid;grid-template-rows:auto 1fr auto;gap:10px;padding:10px}
.panel{border:1px solid rgba(255,255,255,.08);background:rgba(10,13,19,.72);border-radius:16px;backdrop-filter:blur(6px)}
.hud{display:flex;justify-content:space-between;gap:10px;align-items:flex-start;padding:10px 12px}
.hudTitle{font-weight:800;font-size:15px}
.hudSub{font-size:11px;letter-spacing:.12em;text-transform:uppercase;color:rgba(238,242,251,.65)}
.pills{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.pill{padding:7px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.03);font-size:12px;font-weight:700}
.pill.red{border-color:rgba(255,60,70,.22);background:rgba(160,20,30,.16)}
.pill.good{border-color:rgba(70,190,110,.22);background:rgba(24,110,50,.12)}
.hint{padding:10px 12px;display:grid;gap:8px}
.hintLabel{font-size:11px;letter-spacing:.12em;text-transform:uppercase;color:rgba(238,242,251,.65)}
.hintText{font-size:13px;line-height:1.4}
.smallText{font-size:12px;color:rgba(238,242,251,.83)}
.muted{font-size:12px;color:rgba(238,242,251,.66)}
.divider{height:1px;background:rgba(255,255,255,.06)}
.world{position:relative;min-height:420px;border-radius:18px;overflow:hidden;border:1px solid rgba(255,255,255,.08);background:#0c1119}
.worldSurface{position:absolute;inset:0;transform:translate3d(0,0,0)}
.btn{border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);color:#eef2fb;border-radius:12px;padding:10px 12px;font-weight:700;cursor:pointer}
.btn:hover{background:rgba(255,255,255,.07)}
.btn:disabled{opacity:.55;cursor:not-allowed}
.danger{background:rgba(160,20,30,.28);border-color:rgba(255,70,80,.22)}
.wide{width:100%;display:flex;justify-content:center}
.ghost{background:transparent}
/* =====================================================
   MENU — Sinematik Split-Layout
   ===================================================== */
.menuBg,.bgBasic{
  position:absolute;inset:0;
  background:
    radial-gradient(ellipse at 80% 0%, rgba(255,42,42,.13), transparent 38%),
    radial-gradient(ellipse at 10% 90%, rgba(80,30,120,.10), transparent 40%),
    radial-gradient(circle at 50% 50%, rgba(15,20,30,.8), transparent 70%),
    linear-gradient(160deg, #0d1219 0%, #0a0d14 50%, #07090f 100%);
  z-index:0;
}
.menuWrap{
  min-height:100vh;
  display:grid;
  place-items:center;
  padding:0;
  position:relative;
  overflow:hidden;
}
/* Noise grain overlay */
.menuNoise{
  position:absolute;inset:0;z-index:0;pointer-events:none;
  opacity:.028;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size:200px 200px;
}

/* ── MOBİL LAYOUT (fullscreen) ── */
.menuMobileLayout{
  position:relative;z-index:1;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  width:100%;
  min-height:100vh;
  min-height:100dvh;
  overflow:hidden;
}
.menuMounted .menuNavBtn{
  opacity:1;
  transform:translateX(0);
}

/* Gradient overlay — arka planı karartarak metinleri okunaklı kılar */
.menuMobileOverlay{
  position:absolute;inset:0;z-index:1;pointer-events:none;
  background:
    linear-gradient(to bottom,
      rgba(7,9,15,.82) 0%,
      rgba(7,9,15,.35) 30%,
      rgba(7,9,15,.10) 52%,
      rgba(7,9,15,.55) 72%,
      rgba(7,9,15,.92) 100%
    );
}

/* Üst içerik: logo */
.menuMobileTop{
  position:relative;z-index:2;
  display:grid;
  gap:10px;
  padding:clamp(52px,8vh,80px) clamp(24px,6vw,48px) clamp(16px,3vh,28px);
  text-align:center;
}

/* Alt içerik: butonlar + footer */
.menuMobileBottom{
  position:relative;z-index:2;
  display:flex;
  flex-direction:column;
  gap:0;
  padding:clamp(16px,3vh,28px) clamp(20px,5vw,40px) clamp(32px,5vh,52px);
  background:linear-gradient(to top, rgba(7,9,15,.95) 0%, transparent 100%);
}

/* ── LEGACY SPLIT LAYOUT (artık kullanılmıyor ama sakla) ── */
.menuSplitLayout{
  position:relative;z-index:1;
  display:grid;
  grid-template-columns:1fr 1fr;
  width:min(1140px,100%);
  min-height:100vh;
  max-height:100vh;
}

/* ── LEFT PANEL ── */
.menuLeft{
  position:relative;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:0;
  padding:clamp(32px,6vh,72px) clamp(28px,5vw,72px);
  border-right:1px solid rgba(255,255,255,.05);
  overflow:hidden;
}
.menuLeft::before{
  content:"";
  position:absolute;inset:0;
  background:linear-gradient(160deg, rgba(255,42,42,.04) 0%, transparent 50%);
  pointer-events:none;
}

/* Logo */
.menuLogoArea{
  display:grid;
  gap:12px;
  margin-bottom:clamp(32px,5vh,56px);
}
.menuLogoEyebrow{
  font-size:10px;
  letter-spacing:.45em;
  text-transform:uppercase;
  color:rgba(255,70,70,.6);
  font-weight:600;
  text-align:center;
}
.menuLogo{
  margin:0;
  display:flex;
  flex-direction:column;
  line-height:.88;
  gap:0;
  text-align:center;
}
.menuLogoLine1,.menuLogoLine2,.menuLogoLine3{
  font-size:clamp(56px,18vw,120px);
  font-weight:900;
  letter-spacing:.04em;
  text-transform:uppercase;
  color:#eef2fb;
  text-shadow:0 0 40px rgba(255,42,42,.18), 0 4px 24px rgba(0,0,0,.6);
  animation:logoFlicker 8s ease-in-out infinite;
}
.menuLogoLine2{
  color:rgba(238,242,251,.82);
  animation-delay:.4s;
}
.menuLogoLine3{
  color:rgba(238,242,251,.55);
  animation-delay:.8s;
}
.menuLogoDivider{
  display:flex;align-items:center;gap:10px;
  margin:8px 0 4px;
}
.menuLogoDividerLine{
  flex:1;height:1px;
  background:linear-gradient(to right, rgba(255,42,42,.5), rgba(255,42,42,.08));
}
.menuLogoDividerDot{
  width:5px;height:5px;border-radius:50%;
  background:#ff2a2a;
  box-shadow:0 0 8px rgba(255,42,42,.6);
  animation:blink 1.4s ease-in-out infinite;
}
.menuTagline{
  margin:0;
  font-size:11px;
  letter-spacing:.16em;
  color:rgba(238,242,251,.38);
  text-transform:uppercase;
  text-align:center;
}

/* Nav buttons — mobil büyük dokunma hedefleri */
.menuNav{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.menuNavBtn{
  position:relative;
  display:flex;
  align-items:center;
  gap:16px;
  background:rgba(7,9,15,.55);
  border:1px solid rgba(255,255,255,.08);
  border-radius:16px;
  color:#eef2fb;
  padding:18px 20px;
  cursor:pointer;
  font-size:16px;
  font-weight:700;
  letter-spacing:.08em;
  text-transform:uppercase;
  text-align:left;
  opacity:0;
  transform:translateY(14px);
  transition:opacity .4s ease, transform .4s ease, background .2s ease, border-color .2s ease;
  width:100%;
  backdrop-filter:blur(6px);
  -webkit-backdrop-filter:blur(6px);
  touch-action:manipulation;
}
.menuNavBtn::after{
  content:none;
}
.menuNavBtn:disabled{
  opacity:.28 !important;
  cursor:not-allowed;
}
.menuNavBtnBar{
  display:block;
  width:4px;
  height:24px;
  border-radius:2px;
  background:rgba(255,255,255,.12);
  flex-shrink:0;
  transition:background .2s ease, height .2s ease, box-shadow .2s ease;
}
.menuNavBtnLabel{
  flex:1;
  transition:transform .15s ease;
}
.menuNavBtnArrow{
  font-size:22px;
  opacity:0;
  transform:translateX(-6px);
  transition:opacity .2s ease, transform .2s ease;
  color:#ff2a2a;
}
/* Primary button */
.menuNavBtn--primary{
  background:rgba(255,42,42,.12);
  border-color:rgba(255,42,42,.28);
}
.menuNavBtn--primary .menuNavBtnBar{
  background:rgba(255,42,42,.7);
  box-shadow:0 0 8px rgba(255,42,42,.35);
}
.menuNavBtn--primary:active:not(:disabled),
.menuNavBtn--primary:hover:not(:disabled){
  background:rgba(255,42,42,.2);
  border-color:rgba(255,42,42,.45);
}
.menuNavBtn--primary:active:not(:disabled) .menuNavBtnBar,
.menuNavBtn--primary:hover:not(:disabled) .menuNavBtnBar{
  background:#ff2a2a;
  height:30px;
  box-shadow:0 0 14px rgba(255,42,42,.6);
}
.menuNavBtn--primary:active:not(:disabled) .menuNavBtnLabel,
.menuNavBtn--primary:hover:not(:disabled) .menuNavBtnLabel{
  color:#ff7070;
}
.menuNavBtn--primary:active:not(:disabled) .menuNavBtnArrow,
.menuNavBtn--primary:hover:not(:disabled) .menuNavBtnArrow{
  opacity:1;transform:translateX(0);
}
/* Ghost button */
.menuNavBtn--ghost:active:not(:disabled),
.menuNavBtn--ghost:hover:not(:disabled){
  background:rgba(255,255,255,.06);
  border-color:rgba(255,255,255,.15);
}
.menuNavBtn--ghost:active:not(:disabled) .menuNavBtnBar,
.menuNavBtn--ghost:hover:not(:disabled) .menuNavBtnBar{
  background:rgba(255,255,255,.45);
}

/* Footer */
.menuFooter{
  margin-top:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  font-size:11px;
  color:rgba(238,242,251,.28);
  letter-spacing:.1em;
}
.menuFooterBadge{
  border:1px solid rgba(255,42,42,.25);
  background:rgba(255,42,42,.07);
  color:rgba(255,100,100,.6);
  border-radius:4px;
  padding:2px 7px;
  font-size:10px;
  font-weight:700;
  letter-spacing:.15em;
}
.menuFooterSep{color:rgba(255,255,255,.15)}

/* ── RIGHT PANEL (Art) ── */
.menuRight{
  position:relative;
  overflow:hidden;
}
.menuSceneArt{
  position:absolute;inset:0;
  background:
    radial-gradient(ellipse at 50% 50%, rgba(10,14,22,0) 0%, rgba(7,9,15,.6) 100%),
    linear-gradient(to bottom, #0c1118, #080c12 50%, #060810);
}
/* Fog layers */
.menuSceneFog{
  position:absolute;inset:-12%;
  border-radius:50%;
  pointer-events:none;
}
.menuSceneFog1{
  background:radial-gradient(ellipse at 60% 40%, rgba(200,210,230,.06), transparent 55%);
  animation:fogMove 14s ease-in-out infinite alternate;
}
.menuSceneFog2{
  background:radial-gradient(ellipse at 35% 65%, rgba(180,190,215,.04), transparent 48%);
  animation:fogMove 19s ease-in-out infinite alternate-reverse;
}
.menuSceneFog3{
  background:radial-gradient(ellipse at 70% 25%, rgba(255,42,42,.05), transparent 42%);
  animation:fogMove 11s ease-in-out infinite alternate;
  animation-delay:-4s;
}
/* Scanlines */
.menuSceneScanlines{
  position:absolute;inset:0;pointer-events:none;z-index:8;
  background:repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 3px,
    rgba(0,0,0,.08) 3px,
    rgba(0,0,0,.08) 4px
  );
  opacity:.5;
}
/* Beam of light */
.menuSceneBeam{
  position:absolute;
  top:0;left:50%;
  width:180px;height:100%;
  transform:translateX(-50%);
  background:linear-gradient(to bottom, rgba(255,42,42,.06), transparent 40%);
  pointer-events:none;
  filter:blur(30px);
}
/* Door wrap — centered */
.menuSceneDoorWrap{
  position:absolute;
  left:50%;bottom:10%;
  transform:translateX(-50%);
  z-index:4;
}
.menuSceneDoor{
  position:relative;
  width:min(180px, 28vw);
  aspect-ratio:0.55;
  border-radius:10px 10px 6px 6px;
  background:linear-gradient(175deg, #1c2535 0%, #131a25 55%, #0e1318 100%);
  border:1px solid rgba(255,255,255,.1);
  box-shadow:
    0 32px 60px rgba(0,0,0,.7),
    inset 0 1px 0 rgba(255,255,255,.06),
    0 0 80px rgba(0,0,0,.5);
  animation:doorFloat 6s ease-in-out infinite;
}
.menuSceneDoorInner{
  position:absolute;inset:10px 12px;
  display:grid;grid-template-rows:1fr 1fr;gap:8px;
}
.menuSceneDoorPanel{
  border:1px solid rgba(255,255,255,.06);
  border-radius:4px;
  background:rgba(255,255,255,.015);
  box-shadow:inset 0 1px 3px rgba(0,0,0,.3);
}
.menuSceneDoorKnob{
  position:absolute;
  right:14px;top:55%;
  width:10px;height:28px;
  border-radius:999px;
  background:linear-gradient(to bottom, #8a9099, #4a5260);
  box-shadow:0 2px 6px rgba(0,0,0,.5);
}
.menuSceneDoorFrame{
  position:absolute;inset:-6px -7px;
  border:2px solid rgba(255,255,255,.05);
  border-radius:13px 13px 8px 8px;
  pointer-events:none;
}
/* Red light above door */
.menuSceneRedLight{
  position:absolute;
  left:50%;top:-18px;
  transform:translateX(-50%);
  z-index:5;
}
.menuSceneRedLightCore{
  width:12px;height:12px;border-radius:50%;
  background:#ff2a2a;
  box-shadow:0 0 8px rgba(255,42,42,.8), 0 0 20px rgba(255,42,42,.4);
  animation:blink 1.1s ease-in-out infinite;
  margin:0 auto;
}
.menuSceneRedLightHalo{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:80px;height:80px;
  border-radius:50%;
  background:radial-gradient(circle, rgba(255,42,42,.18), transparent 60%);
  animation:blink 1.1s ease-in-out infinite;
  pointer-events:none;
}
/* Floor reflection */
.menuSceneFloor{
  position:absolute;
  left:0;right:0;bottom:0;
  height:18%;
  background:linear-gradient(to top, rgba(255,42,42,.04), transparent);
  filter:blur(10px);
  pointer-events:none;z-index:2;
}
/* Creepy eyes in corners */
.menuSceneEyes{
  position:absolute;
  bottom:28%;left:0;right:0;
  display:flex;justify-content:space-between;
  padding:0 14%;
  z-index:3;pointer-events:none;
}
.menuSceneEye{
  width:6px;height:3px;border-radius:999px;
  background:#ff2a2a;
  box-shadow:0 0 10px rgba(255,42,42,.7), 0 0 3px rgba(255,42,42,1);
  animation:eyeBlink 5s ease-in-out infinite;
}
.menuSceneEye--r{animation-delay:2.2s}
.menuSceneBottomFog{
  position:absolute;bottom:0;left:0;right:0;
  height:35%;
  background:linear-gradient(to top, rgba(7,9,15,.95), rgba(7,9,15,.6) 50%, transparent);
  pointer-events:none;z-index:5;
}

/* ── SETTINGS LAYOUT ── */
.menuSettingsLayout{
  position:relative;z-index:1;
  display:flex;
  flex-direction:column;
  gap:0;
  width:min(700px,100%);
  min-height:100vh;
  padding:clamp(28px,5vh,64px) clamp(24px,5vw,72px);
  justify-content:center;
}
.settingsTopBar{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:28px;
}
.settingsBackBtn{
  display:flex;align-items:center;gap:8px;
  background:transparent;border:1px solid rgba(255,255,255,.08);
  color:rgba(238,242,251,.65);
  border-radius:8px;padding:8px 14px;
  font-size:12px;font-weight:600;letter-spacing:.08em;cursor:pointer;
  text-transform:uppercase;
  transition:border-color .2s, color .2s, background .2s;
}
.settingsBackBtn:hover{
  border-color:rgba(255,255,255,.18);
  color:#eef2fb;
  background:rgba(255,255,255,.04);
}
.settingsBackArrow{font-size:14px;transition:transform .2s}
.settingsBackBtn:hover .settingsBackArrow{transform:translateX(-3px)}
.settingsTitle{
  font-size:11px;letter-spacing:.45em;text-transform:uppercase;
  color:rgba(238,242,251,.3);font-weight:600;
}
.settingsTitleAccent{color:rgba(255,42,42,.5)}

/* Tab bar */
.settingsTabBar{
  display:flex;gap:4px;
  background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.06);
  border-radius:12px;
  padding:5px;
  margin-bottom:20px;
}
.settingsTabBtn{
  flex:1;display:flex;align-items:center;justify-content:center;gap:7px;
  background:transparent;border:none;
  color:rgba(238,242,251,.45);
  padding:9px 12px;border-radius:8px;
  font-size:12px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;
  cursor:pointer;
  transition:background .2s, color .2s, box-shadow .2s;
}
.settingsTabBtn:hover:not(.settingsTabBtn--active){
  background:rgba(255,255,255,.04);
  color:rgba(238,242,251,.72);
}
.settingsTabBtn--active{
  background:rgba(255,42,42,.15);
  color:#eef2fb;
  box-shadow:0 0 0 1px rgba(255,42,42,.22);
}
.settingsTabIcon{font-size:14px}

/* Settings panel body */
.settingsPanelBody{
  display:grid;gap:0;
}
.settingsGroup{
  display:grid;gap:0;
  border:1px solid rgba(255,255,255,.06);
  border-radius:14px;
  overflow:hidden;
  background:rgba(10,13,20,.6);
  backdrop-filter:blur(8px);
}
.settingsRow{
  display:flex;align-items:center;justify-content:space-between;gap:16px;
  padding:16px 20px;
  border-bottom:1px solid rgba(255,255,255,.05);
  transition:background .15s;
}
.settingsRow:last-child{border-bottom:none}
.settingsRow:hover{background:rgba(255,255,255,.02)}
.settingsRow--slider{
  flex-direction:column;
  align-items:stretch;
  gap:10px;
}
.settingsRowTop{
  display:flex;align-items:center;justify-content:space-between;
}
.settingsRowLabel{
  font-size:13px;font-weight:600;
  color:rgba(238,242,251,.85);
  letter-spacing:.04em;
}
.settingsRowValue{
  font-size:12px;font-weight:700;
  color:rgba(255,100,100,.8);
  min-width:28px;text-align:right;
  font-variant-numeric:tabular-nums;
}
.settingsSelect{
  border-radius:8px;
  border:1px solid rgba(255,255,255,.1);
  background:rgba(8,11,16,.9);
  color:#eef2fb;padding:8px 12px;
  font-size:13px;font-weight:600;
  cursor:pointer;
  outline:none;
  transition:border-color .2s;
}
.settingsSelect:hover,.settingsSelect:focus{border-color:rgba(255,42,42,.35)}

/* Slider */
.settingsSliderTrack{position:relative}
.settingsSlider{
  -webkit-appearance:none;appearance:none;
  width:100%;height:4px;
  background:rgba(255,255,255,.08);
  border-radius:999px;
  outline:none;cursor:pointer;
  position:relative;
}
.settingsSlider::-webkit-slider-runnable-track{
  height:4px;border-radius:999px;
}
.settingsSlider::-webkit-slider-thumb{
  -webkit-appearance:none;
  width:18px;height:18px;border-radius:50%;
  background:linear-gradient(135deg, #ff4040, #cc1020);
  box-shadow:0 0 10px rgba(255,42,42,.5), 0 2px 4px rgba(0,0,0,.4);
  cursor:pointer;
  margin-top:-7px;
  transition:transform .15s, box-shadow .15s;
}
.settingsSlider::-webkit-slider-thumb:hover{
  transform:scale(1.15);
  box-shadow:0 0 16px rgba(255,42,42,.7), 0 2px 6px rgba(0,0,0,.4);
}
.settingsSlider::-moz-range-thumb{
  width:18px;height:18px;border-radius:50%;border:none;
  background:linear-gradient(135deg, #ff4040, #cc1020);
  box-shadow:0 0 10px rgba(255,42,42,.5);
  cursor:pointer;
}

/* Custom checkbox */
.settingsCheckRow{
  display:flex;align-items:center;gap:12px;cursor:pointer;
  padding:16px 20px;width:100%;
}
.settingsCheckbox{display:none}
.settingsCheckMark{
  display:block;flex-shrink:0;
  width:20px;height:20px;border-radius:6px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.04);
  position:relative;
  transition:border-color .2s, background .2s;
}
.settingsCheckbox:checked + .settingsCheckMark{
  background:rgba(255,42,42,.2);
  border-color:rgba(255,42,42,.5);
}
.settingsCheckbox:checked + .settingsCheckMark::after{
  content:"✓";
  position:absolute;inset:0;
  display:grid;place-items:center;
  font-size:11px;font-weight:900;color:#ff4040;
}
.introScreen{
  min-height:100vh;
  min-height:100dvh;
  padding:0;
  gap:0;
  grid-template-rows:1fr;
}
.introScreen .world{
  min-height:100vh;
  min-height:100dvh;
  border:none;
  border-radius:0;
}
.introStage{position:relative;overflow:hidden}
.introSceneLayer{position:absolute;inset:0;z-index:0}
.introArt{position:absolute;inset:0;background:
  radial-gradient(circle at 70% 20%, rgba(255,42,42,.10), transparent 18%),
  linear-gradient(to bottom,#202c3b,#121923 50%,#0e1219)}
.introSceneImage{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  filter:contrast(1.04) saturate(.96) brightness(.9);
  will-change:opacity,transform;
}
.introSceneImageCurrent{animation:introKenBurns 5.2s ease-out both}
.introSceneBridge{
  position:absolute;inset:0;z-index:2;
  pointer-events:none;
  background:#000;
  opacity:0;
  transition:opacity .12s ease-in-out;
}
.introSceneBridge.dark{opacity:.24}
.introFog{position:absolute;inset:-8%;filter:blur(14px);background:
  radial-gradient(circle at 25% 50%, rgba(235,240,248,.09), transparent 32%),
  radial-gradient(circle at 75% 38%, rgba(235,240,248,.06), transparent 30%);
  animation:fogMove 11s ease-in-out infinite alternate;}
.introVignette{
  position:absolute;
  inset:0;
  z-index:1;
  background:
    radial-gradient(circle at center, rgba(0,0,0,0) 48%, rgba(0,0,0,.45) 100%),
    linear-gradient(to top, rgba(5,7,11,.62), rgba(5,7,11,.1) 32%, rgba(5,7,11,.45) 100%);
}
.introSignalDot{
  position:absolute;
  top:20%;
  right:14%;
  width:11px;
  height:11px;
  border-radius:50%;
  background:#ff2a2a;
  z-index:2;
  box-shadow:0 0 14px rgba(255,42,42,.55);
  animation:blink 1.1s infinite;
}
.introEyes{
  position:absolute;
  top:21.5%;
  left:50%;
  width:min(52vw,360px);
  transform:translateX(-50%);
  display:flex;
  justify-content:space-between;
  pointer-events:none;
  z-index:2;
}
.introEye{
  width:12px;
  height:5px;
  border-radius:999px;
  background:rgba(255,64,64,.94);
  opacity:.32;
  filter:blur(.1px);
  box-shadow:0 0 14px rgba(255,42,42,.5), 0 0 28px rgba(255,42,42,.18);
  animation:introEyeBlink 7.1s ease-in-out infinite, introEyeGlow 3.4s ease-in-out infinite, introEyePulse 5.2s ease-in-out infinite;
}
.introEyeRight{animation-delay:.34s,.72s,1.1s}
.introSubtitleArea{
  position:absolute;
  left:0;
  right:0;
  bottom:0;
  z-index:3;
  pointer-events:none;
  padding:0 14px calc(8px + env(safe-area-inset-bottom, 0px));
  display:grid;
  justify-items:center;
  align-items:end;
  gap:2px;
  background:linear-gradient(to top, rgba(3,4,8,.74) 0%, rgba(3,4,8,.38) 46%, transparent 100%);
}
.introSubtitleText{
  margin:0;
  width:min(860px,100%);
  text-align:center;
  color:rgba(249,244,237,.96);
  font-size:clamp(14px,3.6vw,21px);
  line-height:1.38;
  letter-spacing:.02em;
  font-family:"Segoe Script","Lucida Handwriting","Bradley Hand","Comic Sans MS",cursive,Inter,system-ui,sans-serif;
  text-shadow:0 2px 10px rgba(0,0,0,.72), 0 0 26px rgba(0,0,0,.42);
  will-change:opacity;
}
.introSubtitleTextIn{animation:introSubtitleCrossIn .5s ease-in-out both}
.introSubtitleTextOut{animation:introSubtitleCrossOut .4s ease-in-out both}
.introSubtitleEnd{
  font-size:12px;
  color:rgba(255,255,255,.52);
  letter-spacing:.14em;
}
.introOutroFade{
  position:absolute;
  inset:0;
  z-index:4;
  pointer-events:none;
  background:#000;
  opacity:0;
  transition:opacity .92s ease-in-out;
}
.introOutroFade.on{opacity:.94}
.rowEnd{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}

/* BEACH */
.beachSky{
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 84% 15%, rgba(255,42,42,.07), transparent 18%),
    radial-gradient(circle at 14% 18%, rgba(120,150,180,.14), transparent 28%),
    linear-gradient(to bottom,#263548 0%, #172130 48%, #101722 70%, #0d121a 100%);
}
.beachHorizonGlow{
  position:absolute; left:15%; right:15%; top:14%;
  height:16%; border-radius:50%;
  background:radial-gradient(circle, rgba(255,42,42,.08), transparent 70%);
  filter:blur(16px); opacity:.9;
}
.seaBands{
  position:absolute; inset:auto 0 0 0; height:40%; opacity:.7;
  background:
    linear-gradient(to top, rgba(14,19,28,.95), rgba(16,22,30,.75) 40%, rgba(20,30,40,.35) 75%, transparent),
    repeating-linear-gradient(to top,
      rgba(120,150,170,.04) 0 2px,
      rgba(0,0,0,0) 2px 10px);
}
.fogLayer{
  position:absolute; inset:-10%; filter:blur(14px); pointer-events:none; z-index:12;
  background:
    radial-gradient(circle at 20% 25%, rgba(230,235,245,.10), transparent 34%),
    radial-gradient(circle at 70% 40%, rgba(230,235,245,.06), transparent 30%),
    radial-gradient(circle at 40% 80%, rgba(230,235,245,.05), transparent 28%);
  animation:fogMove 12s ease-in-out infinite alternate;
}
.beachPerspective{position:absolute; inset:0; z-index:3; overflow:hidden; perspective:900px}
.walkway{
  position:absolute; left:50%; bottom:-4%; width:min(84vw,460px); height:92%;
  transform:translateX(-50%) rotateX(63deg);
  transform-origin:center bottom; border-radius:20px;
  background:
    linear-gradient(to right, rgba(0,0,0,.48), transparent 10%, transparent 90%, rgba(0,0,0,.48)),
    linear-gradient(to bottom, rgba(255,255,255,.02), rgba(0,0,0,.28) 45%, rgba(0,0,0,.42));
  border:1px solid rgba(255,255,255,.07); box-shadow:0 24px 40px rgba(0,0,0,.35);
}
.walkway::before{
  content:""; position:absolute; inset:0;
  background:
    repeating-linear-gradient(to bottom, rgba(255,255,255,.10) 0 10px, transparent 10px 28px),
    radial-gradient(circle at 20% 16%, rgba(255,255,255,.02), transparent 10%),
    radial-gradient(circle at 80% 36%, rgba(255,255,255,.02), transparent 10%);
  opacity:.32;
}
.walkwayEdgeL, .walkwayEdgeR{
  position:absolute; bottom:6%; top:26%; width:2px; z-index:4; opacity:.28;
  background:linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.04));
}
.walkwayEdgeL{left:calc(50% - min(35vw,190px))}
.walkwayEdgeR{right:calc(50% - min(35vw,190px))}
.horizonRedDot{
  position:absolute; left:50%; top:17%; width:9px; height:9px; border-radius:50%;
  background:#ff2a2a; transform:translateX(-50%); box-shadow:0 0 14px rgba(255,42,42,.45);
  animation:blink 1.2s infinite; z-index:6;
}

.worldMarker{
  position:absolute; z-index:8; border-radius:50%;
  display:grid; place-items:center;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(10,14,20,.92); color:#eef2fb;
  box-shadow:0 10px 18px rgba(0,0,0,.25); user-select:none; pointer-events:none;
}
.worldMarker::after{
  content:""; position:absolute; inset:-6px; border-radius:50%;
  border:1px solid rgba(255,255,255,.05); opacity:.35;
}
.worldMarker.solved{border-color:rgba(70,190,110,.34); background:rgba(10,24,18,.9)}
.worldMarker.current{animation:objPulse 1.1s infinite ease-in-out}
.worldMarkerLabel{
  position:absolute; z-index:7; transform:translate(-50%,-100%);
  font-size:10px; white-space:nowrap; padding:3px 6px; border-radius:999px;
  border:1px solid rgba(255,255,255,.07); background:rgba(8,11,16,.52);
  color:rgba(238,242,251,.8); pointer-events:none;
}
.worldPickBtn{
  position:absolute; z-index:12; transform:translate(-50%,-50%);
  min-width:46px; min-height:34px; padding:6px 11px;
  border-radius:999px; border:1px solid rgba(255,255,255,.15);
  background:rgba(0,0,0,.55); color:rgba(255,255,255,.85);
  font-size:12.5px; font-weight:800; letter-spacing:.03em;
  cursor:pointer; touch-action:manipulation;
  box-shadow:0 3px 8px rgba(0,0,0,.28);
  transition:background .12s ease,border-color .12s ease,color .12s ease,box-shadow .12s ease,transform .1s ease;
}
.worldPickBtn:hover{
  background:rgba(0,0,0,.63); border-color:rgba(255,255,255,.22); color:rgba(255,255,255,.9);
}
.worldPickBtn:active{
  transform:translate(-50%,-50%) scale(.98);
  background:rgba(0,0,0,.7); box-shadow:0 2px 5px rgba(0,0,0,.26);
}

.sidePost{
  position:absolute; z-index:6; pointer-events:none;
  border-radius:6px;
  background:linear-gradient(to bottom, rgba(210,220,235,.22), rgba(120,130,145,.12) 30%, rgba(0,0,0,.35) 100%);
  border:1px solid rgba(255,255,255,.06);
  box-shadow:0 10px 14px rgba(0,0,0,.22);
}
.sidePostCap{
  position:absolute; left:50%; transform:translateX(-50%);
  border-radius:999px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.05);
}
.sidePostShadow{
  position:absolute; z-index:5; pointer-events:none;
  border-radius:999px; filter:blur(4px);
  background:rgba(0,0,0,.28);
}

.tunnelPortalWorld{
  position:absolute; z-index:7; border-radius:14px 14px 8px 8px;
  border:1px solid rgba(255,255,255,.1);
  background:linear-gradient(to bottom,#212835,#141a23 70%, #10151c);
  box-shadow:0 14px 24px rgba(0,0,0,.35); pointer-events:none;
}
.tunnelPortalWorld::before{
  content:""; position:absolute; left:50%; top:10%; transform:translateX(-50%);
  width:38%; height:10%; border-radius:999px; background:#ff2a2a;
  opacity:.25; box-shadow:0 0 10px rgba(255,42,42,.35);
}
.tunnelPortalWorld.active::before{opacity:1; animation:blink 1.1s infinite}

.beachOverlay{position:absolute; inset:0; z-index:20; pointer-events:none}
.goalBeacon{
  position:absolute; left:50%; top:12px; transform:translateX(-50%);
  display:flex; align-items:center; gap:8px; padding:8px 10px; border-radius:12px;
  border:1px solid rgba(255,60,70,.16); background:rgba(20,8,10,.5);
  font-size:12px; pointer-events:none;
}
.goalDot{width:8px;height:8px;border-radius:50%;background:#ff3a3a;animation:blink 1.1s infinite}
.goalArrow{display:inline-block;font-weight:900;animation:arrowUp 1.1s infinite ease-in-out}
.interactPop{
  position:absolute; left:50%; bottom:104px; transform:translateX(-50%);
  padding:7px 10px; border-radius:10px; border:1px solid rgba(255,255,255,.08);
  background:rgba(8,11,16,.62); font-size:12px; white-space:nowrap;
}

/* Tamay back view */
.tamayRig{
  position:absolute; left:50%; bottom:8%;
  width:170px; height:150px; z-index:16; pointer-events:none;
  filter:drop-shadow(0 10px 18px rgba(0,0,0,.45));
  will-change:transform;
}
.tamayRig .shadow{
  position:absolute; left:50%; bottom:12px; transform:translateX(-50%);
  width:92px; height:18px; border-radius:999px; filter:blur(4px);
  background:rgba(0,0,0,.46);
}
.tamayRig .torso{
  position:absolute; left:50%; bottom:26px; transform:translateX(-50%);
  width:78px; height:72px; border-radius:28px 28px 18px 18px;
  background:linear-gradient(to bottom, #141b29, #0d121b 65%, #0b0f16);
  border:1px solid rgba(255,255,255,.05);
}
.tamayRig .hood{
  position:absolute; left:50%; bottom:84px; transform:translateX(-50%);
  width:66px; height:46px; border-radius:34px 34px 24px 24px;
  background:linear-gradient(to bottom, #1a2335, #101722 70%);
  border:1px solid rgba(255,255,255,.05);
}
.tamayRig .hair{
  position:absolute; left:50%; bottom:102px; transform:translateX(-50%);
  width:32px; height:18px; border-radius:12px 12px 10px 10px;
  background:#0b0f16; opacity:.95;
  clip-path:polygon(0 0,100% 0,100% 52%,74% 72%,55% 100%,40% 72%,20% 86%,0 58%);
}
.tamayRig .shoulderL,.tamayRig .shoulderR{
  position:absolute; bottom:70px; width:34px; height:22px; border-radius:20px;
  background:#111826; opacity:.92;
}
.tamayRig .shoulderL{ left:38px; transform:rotate(-15deg)}
.tamayRig .shoulderR{ right:38px; transform:rotate(15deg)}
.tamayRig .armL,.tamayRig .armR{
  position:absolute; bottom:46px; width:16px; height:44px; border-radius:12px;
  background:#0f1520; transform-origin:top center;
}
.tamayRig .armL{ left:44px }
.tamayRig .armR{ right:44px }
.tamayRig .legL,.tamayRig .legR{
  position:absolute; bottom:16px; width:18px; height:40px; border-radius:12px;
  background:#0b0f16; transform-origin:top center;
}
.tamayRig .legL{ left:66px }
.tamayRig .legR{ right:66px }
.tamayRig.walking .armL{ animation:walkA1 .28s infinite ease-in-out }
.tamayRig.walking .armR{ animation:walkA2 .28s infinite ease-in-out }
.tamayRig.walking .legL{ animation:walk1 .28s infinite ease-in-out }
.tamayRig.walking .legR{ animation:walk2 .28s infinite ease-in-out }
.tamayRig.walking .torso{ animation:bob .28s infinite ease-in-out }

.beachControls{
  position:absolute; left:10px; right:10px; bottom:10px; z-index:28;
  display:flex; justify-content:space-between; align-items:flex-end; gap:10px; pointer-events:none
}
.pad{display:flex; flex-direction:column; gap:8px; pointer-events:auto}
.moveBtn{
  width:56px; height:56px; border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(8,11,16,.62); color:#eef2fb;
  font-size:20px; font-weight:800; cursor:pointer;
  touch-action:none; user-select:none;
}
.beachActionCol{display:flex; flex-direction:column; align-items:flex-end; gap:8px; pointer-events:auto}
.miniBadge{
  font-size:11px; color:rgba(238,242,251,.78);
  border:1px solid rgba(255,255,255,.08); background:rgba(8,11,16,.55);
  border-radius:10px; padding:7px 9px
}
.journalBtnRow{display:flex;justify-content:space-between;align-items:center;gap:8px}
.journalGrid{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:8px}
.journalItem{
  border:1px solid rgba(255,255,255,.07);background:rgba(255,255,255,.02);
  border-radius:10px;padding:8px;display:grid;gap:4px;
}
.journalItem.done{border-color:rgba(70,190,110,.22);background:rgba(24,110,50,.07)}
.journalLabel{font-weight:700;font-size:12px}
.journalState{font-size:11px;color:rgba(238,242,251,.72)}

/* TUNNEL */
.tunnelBg{position:absolute;inset:0;background:linear-gradient(to bottom,#141a23,#10141b 45%,#0b0e14)}
.tunnelPerspective{
  position:absolute; inset:0; overflow:hidden;
  background:radial-gradient(circle at 50% 28%, rgba(255,42,42,.08), transparent 20%);
}
.tunnelCeil{
  position:absolute; left:50%; top:-8%; transform:translateX(-50%) rotateX(65deg);
  width:min(95vw,680px); height:34%;
  border:1px solid rgba(255,255,255,.06);
  background:linear-gradient(to bottom, rgba(255,255,255,.03), rgba(0,0,0,.18)); opacity:.85;
}
.tunnelFloor{
  position:absolute; left:50%; bottom:-12%; transform:translateX(-50%) rotateX(68deg);
  width:min(95vw,680px); height:50%;
  border:1px solid rgba(255,255,255,.06);
  background:
    linear-gradient(to bottom, rgba(255,255,255,.02), rgba(0,0,0,.35)),
    repeating-linear-gradient(to bottom, rgba(255,255,255,.08) 0 8px, transparent 8px 22px);
  opacity:.9;
}
.wallL,.wallR{
  position:absolute; top:8%; bottom:14%; width:33%;
  background:linear-gradient(to bottom, rgba(255,255,255,.02), rgba(0,0,0,.18));
  border:1px solid rgba(255,255,255,.05);
}
.wallL{ left:-7%; transform:skewY(8deg) }
.wallR{ right:-7%; transform:skewY(-8deg) }
.redLamp{
  position:absolute; left:50%; top:14%; transform:translateX(-50%);
  width:14px; height:14px; border-radius:50%;
  background:#ff2a2a; box-shadow:0 0 16px rgba(255,42,42,.45);
  animation:blink 1.2s infinite; z-index:5;
}
.metalDoor{
  position:absolute; left:50%; bottom:16%;
  transform:translateX(-50%);
  width:min(58vw,250px); height:min(42vh,300px);
  border-radius:14px 14px 10px 10px;border:1px solid rgba(255,255,255,.12);
  background:linear-gradient(95deg, rgba(255,255,255,.06), rgba(0,0,0,.12)), linear-gradient(to bottom,#202733,#151a23 60%, #12161d);
  display:grid;align-content:end;justify-items:center;padding-bottom:16px;cursor:pointer; z-index:6;
  box-shadow:0 24px 28px rgba(0,0,0,.35);
}
.metalDoor:hover{filter:brightness(1.05)}
.metalDoor::before{
  content:"";position:absolute;left:50%;top:18%;transform:translateX(-50%);
  width:54px;height:18px;border-radius:999px;border:1px solid rgba(255,255,255,.12);
  background:radial-gradient(circle at 52% 50%, rgba(255,50,50,.85) 0 9%, rgba(255,50,50,.28) 10% 22%, rgba(0,0,0,.35) 23% 100%)
}
.metalDoor::after{
  content:"";position:absolute;right:16px;top:52%;width:14px;height:38px;border-radius:999px;background:linear-gradient(to bottom,#6e7681,#444c57)
}
.tunnelPlayer{
  position:absolute; left:50%; bottom:2%; transform:translateX(-50%);
  width:190px; height:120px; z-index:7; pointer-events:none; opacity:.95;
}
.tunnelPlayer .shoulders{
  position:absolute; left:50%; bottom:0; transform:translateX(-50%);
  width:150px; height:58px; border-radius:38px 38px 12px 12px;
  background:linear-gradient(to bottom,#131a28,#0b111a);
  border:1px solid rgba(255,255,255,.04);
  box-shadow:0 -8px 22px rgba(0,0,0,.35) inset;
}
.tunnelPlayer .hood{
  position:absolute; left:50%; bottom:44px; transform:translateX(-50%);
  width:78px; height:52px; border-radius:38px 38px 18px 18px;
  background:linear-gradient(to bottom,#192335,#101722);
  border:1px solid rgba(255,255,255,.04);
}
.tunnelPlayer .hair{
  position:absolute; left:50%; bottom:70px; transform:translateX(-50%);
  width:36px; height:16px; border-radius:12px; background:#0b0f16;
  clip-path:polygon(0 0,100% 0,100% 55%,80% 82%,60% 100%,42% 70%,22% 88%,0 62%);
}

/* DOOR GAME */
.gameBg{
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 50% 10%, rgba(255,42,42,.08), transparent 20%),
    linear-gradient(to bottom,#1a2230,#121923 48%, #0c1118);
}
.roomPerspective{position:absolute; inset:0; overflow:hidden}
.roomFloor{
  position:absolute; left:50%; bottom:-12%;
  transform:translateX(-50%) rotateX(70deg);
  width:min(102vw,760px); height:58%;
  border:1px solid rgba(255,255,255,.06);
  background:
    linear-gradient(to bottom, rgba(255,255,255,.02), rgba(0,0,0,.36)),
    repeating-linear-gradient(to bottom, rgba(255,255,255,.08) 0 8px, transparent 8px 24px);
  opacity:.9;
}
.roomBackWall{
  position:absolute; left:50%; top:9%; transform:translateX(-50%);
  width:min(88vw,640px); height:52%;
  border:1px solid rgba(255,255,255,.06);
  background:
    linear-gradient(to bottom, rgba(255,255,255,.03), rgba(0,0,0,.18)),
    linear-gradient(to right, rgba(0,0,0,.35), transparent 10%, transparent 90%, rgba(0,0,0,.35));
  border-radius:8px; box-shadow:0 22px 28px rgba(0,0,0,.25);
}
.roomWallL,.roomWallR{
  position:absolute; top:12%; bottom:18%; width:24%;
  border:1px solid rgba(255,255,255,.05);
  background:linear-gradient(to bottom, rgba(255,255,255,.02), rgba(0,0,0,.14));
}
.roomWallL{ left:-3%; transform:skewY(9deg) }
.roomWallR{ right:-3%; transform:skewY(-9deg) }
.doorsWall{
  position:absolute; left:50%; top:13%; transform:translateX(-50%);
  width:min(82vw,600px); height:46%;
  display:grid; grid-template-columns:repeat(5,minmax(0,1fr)); gap:8px;
  align-items:end; z-index:5; padding:6px;
}
.door{
  position:relative; min-height:150px;
  border-radius:14px 14px 10px 10px;
  border:1px solid rgba(255,255,255,.1);
  background:linear-gradient(95deg, rgba(255,255,255,.04), rgba(0,0,0,.1)), linear-gradient(to bottom,#202733,#131821);
  color:#eef2fb; display:grid; align-items:end; padding:8px;
  cursor:pointer; box-shadow:0 10px 18px rgba(0,0,0,.22); transform-origin:bottom center;
}
.door:nth-child(1){ transform:perspective(700px) rotateY(10deg) }
.door:nth-child(2){ transform:perspective(700px) rotateY(5deg) }
.door:nth-child(3){ transform:perspective(700px) rotateY(0deg) }
.door:nth-child(4){ transform:perspective(700px) rotateY(-5deg) }
.door:nth-child(5){ transform:perspective(700px) rotateY(-10deg) }
.door:hover{filter:brightness(1.03)}
.door::before{content:"";position:absolute;left:50%;top:18%;transform:translateX(-50%);width:14px;height:14px;border-radius:50%;background:rgba(255,255,255,.08)}
.door::after{content:"";position:absolute;right:10px;top:56%;width:10px;height:28px;border-radius:999px;background:linear-gradient(to bottom,#707884,#444b56)}
.door.selected{border-color:rgba(255,255,255,.25)}
.door.safe{border-color:rgba(70,190,110,.3);background:linear-gradient(95deg, rgba(70,190,110,.1), rgba(0,0,0,.1)), linear-gradient(to bottom,#21362a,#131c17)}
.door.monster{border-color:rgba(255,60,70,.22);background:linear-gradient(95deg, rgba(255,60,70,.09), rgba(0,0,0,.1)), linear-gradient(to bottom,#2a1e22,#191216)}
.door.curse{border-color:rgba(170,85,255,.24);background:linear-gradient(95deg, rgba(170,85,255,.1), rgba(0,0,0,.1)), linear-gradient(to bottom,#281f35,#17131f)}
.doorLabel{
  position:relative; z-index:2; text-align:center; padding:8px 6px;
  border-radius:10px; border:1px solid rgba(255,255,255,.06);
  background:rgba(6,9,14,.35); font-size:12px; font-weight:700
}
.playerShoulderOverlay{
  position:absolute; left:50%; bottom:-4px; transform:translateX(-50%);
  width:min(88vw,540px); height:120px; z-index:6; pointer-events:none;
}
.playerShoulderOverlay::before{
  content:""; position:absolute; left:50%; bottom:0; transform:translateX(-50%);
  width:220px; height:78px; border-radius:50px 50px 14px 14px;
  background:linear-gradient(to bottom,#121a28,#0a1018);
  border:1px solid rgba(255,255,255,.04); opacity:.95;
}
.playerShoulderOverlay::after{
  content:""; position:absolute; left:50%; bottom:58px; transform:translateX(-50%);
  width:86px; height:54px; border-radius:40px 40px 18px 18px;
  background:linear-gradient(to bottom,#1a2436,#101722);
  border:1px solid rgba(255,255,255,.04); opacity:.95;
}

.centerWrap{min-height:100vh;display:grid;place-items:center;padding:14px;position:relative}
.centerCard{position:relative;z-index:1;width:min(560px,100%);padding:16px;display:grid;gap:12px}
.stats{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}
.stat{border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03);border-radius:12px;padding:10px}
.stat .k{font-size:11px;letter-spacing:.1em;text-transform:uppercase;color:rgba(238,242,251,.62)}
.stat .v{font-size:16px;font-weight:800}

.modalBack{position:fixed;inset:0;z-index:80;display:grid;place-items:center;background:rgba(0,0,0,.45);backdrop-filter:blur(4px);padding:12px}
.modal{width:min(640px,100%);border-radius:16px;border:1px solid rgba(255,255,255,.1);background:rgba(9,12,17,.95);overflow:hidden}
.modalHead{display:flex;justify-content:space-between;gap:10px;align-items:center;padding:12px 14px;border-bottom:1px solid rgba(255,255,255,.06)}
.modalBody{padding:14px}
.puzzleWrap{display:grid;gap:10px}
.box{border:1px solid rgba(255,255,255,.07);background:rgba(255,255,255,.02);border-radius:12px;padding:10px}
.grid2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}
.grid3{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px}
.pinRow{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:8px}
.pinCell{height:42px;border-radius:10px;border:1px solid rgba(255,255,255,.09);background:rgba(255,255,255,.03);display:grid;place-items:center;font-size:18px;font-weight:800}
.puzzleLore{border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.02);border-radius:12px;padding:10px;display:grid;gap:8px}
.puzzleLoreTitle{font-size:13px;font-weight:800}
.puzzleLoreText{font-size:13px;line-height:1.45}
.feedback{margin-top:10px;border:1px solid rgba(255,255,255,.07);background:rgba(255,255,255,.02);border-radius:10px;padding:8px 10px;font-size:12px}

.fade{position:fixed;inset:0;z-index:95;background:#000;pointer-events:none;opacity:0;transition:opacity .5s ease}
.fade.on{opacity:1}
.hit{
  position:fixed;inset:0;z-index:90;pointer-events:none;opacity:0;transition:opacity .14s ease;
  background:
    radial-gradient(circle at 50% 55%, rgba(0,0,0,0) 0%, rgba(0,0,0,.20) 42%, rgba(0,0,0,.6) 100%),
    linear-gradient(to bottom, rgba(140,0,10,.18), rgba(0,0,0,.2))
}
.hit.on1{opacity:.55}
.hit.on2{opacity:.88}

.shake1{animation:shake1 .16s linear}
.shake2{animation:shake2 .28s linear}

@keyframes introKenBurns{
  from{transform:scale(1.01) translate3d(0,0,0)}
  to{transform:scale(1.07) translate3d(-1%, -0.5%, 0)}
}
@keyframes introSubtitleCrossIn{
  from{opacity:0}
  to{opacity:1}
}
@keyframes introSubtitleCrossOut{
  from{opacity:1}
  to{opacity:0}
}
@keyframes introEyeBlink{
  0%,12%,26%,60%,100%{opacity:.30; transform:scaleY(1)}
  14%{opacity:.48}
  15%{opacity:.14; transform:scaleY(.28)}
  16%{opacity:.46; transform:scaleY(1)}
  62%{opacity:.42}
  64%{opacity:.15; transform:scaleY(.4)}
  66%{opacity:.44; transform:scaleY(1)}
}
@keyframes introEyeGlow{
  0%,100%{box-shadow:0 0 14px rgba(255,42,42,.46), 0 0 28px rgba(255,42,42,.18)}
  45%{box-shadow:0 0 22px rgba(255,42,42,.65), 0 0 40px rgba(255,42,42,.3)}
}
@keyframes introEyePulse{
  0%,38%,100%{opacity:.32}
  42%{opacity:.44}
  45%{opacity:.62}
  48%{opacity:.38}
}
@keyframes blink{
  0%,100%{opacity:.25; box-shadow:0 0 8px rgba(255,42,42,.35)}
  50%{opacity:1; box-shadow:0 0 0 6px rgba(255,42,42,.07),0 0 16px rgba(255,42,42,.5)}
}
@keyframes fogMove{from{transform:translateY(-1%) translateX(-1.5%)}to{transform:translateY(1%) translateX(1.5%)}}
@keyframes walk1{0%,100%{transform:rotate(18deg)}50%{transform:rotate(-20deg)}}
@keyframes walk2{0%,100%{transform:rotate(-20deg)}50%{transform:rotate(18deg)}}
@keyframes walkA1{0%,100%{transform:rotate(-16deg)}50%{transform:rotate(14deg)}}
@keyframes walkA2{0%,100%{transform:rotate(14deg)}50%{transform:rotate(-16deg)}}
@keyframes bob{0%,100%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(2px)}}
@keyframes objPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
@keyframes arrowUp{0%,100%{transform:translateY(0)}50%{transform:translateY(-3px)}}
@keyframes shake1{
  0%{transform:translate(0,0)}25%{transform:translate(-1px,1px)}50%{transform:translate(1px,-1px)}75%{transform:translate(-1px,0)}100%{transform:translate(0,0)}
}
@keyframes shake2{
  0%{transform:translate(0,0)}10%{transform:translate(-2px,1px)}20%{transform:translate(2px,-1px)}30%{transform:translate(-2px,-1px)}
  40%{transform:translate(2px,1px)}50%{transform:translate(-1px,1px)}60%{transform:translate(2px,0)}70%{transform:translate(-2px,0)}
  80%{transform:translate(1px,-1px)}90%{transform:translate(-1px,1px)}100%{transform:translate(0,0)}
}

/* ── MENU YENİ KEYFRAMELERİ ── */
@keyframes logoFlicker{
  0%,93%,96.5%,100%{opacity:1;text-shadow:0 0 40px rgba(255,42,42,.12)}
  94%{opacity:.82;text-shadow:0 0 70px rgba(255,42,42,.35),0 0 120px rgba(255,42,42,.12)}
  95%{opacity:1}
  96%{opacity:.9;text-shadow:0 0 50px rgba(255,42,42,.25)}
}
@keyframes doorFloat{
  0%,100%{transform:translateY(0px) scale(1)}
  50%{transform:translateY(-10px) scale(1.01)}
}
@keyframes eyeBlink{
  0%,44%,56%,100%{opacity:1;transform:scaleY(1)}
  50%{opacity:0;transform:scaleY(0.05)}
}
@keyframes btnEntrance{
  from{opacity:0;transform:translateX(-20px)}
  to{opacity:1;transform:translateX(0)}
}

/* ── RESPONSIVE ── */
@media (max-width:900px){ .journalGrid{grid-template-columns:repeat(3,minmax(0,1fr))} }

/* Tablet: daralt sağ paneli */
@media (max-width:900px) and (min-width:601px){
  .menuSplitLayout{grid-template-columns:1.2fr 0.8fr}
}

/* Mobil: split → stacked */
@media (max-width:600px){
  .menuSplitLayout{
    grid-template-columns:1fr;
    grid-template-rows:auto 1fr;
    min-height:100vh;
    max-height:none;
  }
  .menuLeft{
    order:1;
    padding:clamp(24px,5vw,40px) clamp(20px,6vw,36px);
    border-right:none;
    border-bottom:1px solid rgba(255,255,255,.05);
    justify-content:flex-start;
  }
  .menuRight{
    order:2;
    min-height:220px;
    max-height:260px;
  }
  .menuLogoArea{margin-bottom:20px}
  .menuLogoLine1,.menuLogoLine2,.menuLogoLine3{font-size:clamp(36px,11vw,58px)}
  .menuSettingsLayout{
    min-height:100vh;
    padding:clamp(20px,4vh,40px) clamp(16px,5vw,32px);
  }
  .settingsTopBar{margin-bottom:16px}
  .settingsTabBar{flex-direction:row}
  .settingsTabBtn{padding:8px 6px;font-size:11px;gap:4px}
}

@media (max-width:760px){
  .doorsWall{gap:6px; width:min(96vw,600px)}
  .door{min-height:120px;padding:6px}
  .doorLabel{font-size:11px;padding:7px 4px}
  .stats{grid-template-columns:1fr}
  .world{min-height:54vh}
  .moveBtn{width:52px;height:52px}
  .worldPickBtn{min-width:56px;min-height:40px;padding:8px 14px;font-size:14px}
  .journalGrid{grid-template-columns:repeat(2,minmax(0,1fr))}
  .goalBeacon{top:8px; left:8px; right:8px; transform:none; justify-content:center}
  .tamayRig{width:150px;height:132px}
}

/* =====================================================
   LEVEL ATMOSPHERE SYSTEM
   ===================================================== */

.doorScreen{position:relative}

/* ── FOG LAYERS ── */
.fogLayer--light{opacity:0.28}
.fogLayer--medium{opacity:0.45}
.fogLayer--heavy{opacity:0.62}
.fogLayer--extreme{opacity:0.78;animation:fogPulse 4s ease-in-out infinite}
@keyframes fogPulse{0%,100%{opacity:0.75}50%{opacity:0.88}}

/* ── VIGNETTE ── */
.levelVignette{position:absolute;inset:0;pointer-events:none;z-index:20}

/* ── SCANLINES ── */
.scanlinesOverlay{
  position:absolute;inset:0;
  background:repeating-linear-gradient(to bottom,transparent 0px,transparent 2px,rgba(0,0,0,.12) 2px,rgba(0,0,0,.12) 4px);
  pointer-events:none;z-index:15;opacity:0.6;
  animation:scanlinesDrift 8s linear infinite;
}
@keyframes scanlinesDrift{from{background-position:0 0}to{background-position:0 40px}}

/* ── RED ACCENT LIGHT ── */
.redAccentLight{
  position:absolute;top:-10%;left:50%;transform:translateX(-50%);
  border-radius:50%;pointer-events:none;z-index:12;
}
.redAccentLight--faint{width:220px;height:80px;background:radial-gradient(ellipse,rgba(255,30,30,.10),transparent 70%)}
.redAccentLight--pulse{
  width:320px;height:120px;
  background:radial-gradient(ellipse,rgba(255,30,30,.18),transparent 70%);
  animation:redPulse 2.2s ease-in-out infinite;
}
.redAccentLight--strong{
  width:500px;height:200px;
  background:radial-gradient(ellipse,rgba(255,20,20,.28),transparent 70%);
  animation:redPulse 1.4s ease-in-out infinite;
}
@keyframes redPulse{0%,100%{opacity:.7;transform:translateX(-50%) scale(1)}50%{opacity:1;transform:translateX(-50%) scale(1.08)}}

/* ── SYSTEM MESSAGE ── */
.sysMsg{
  position:absolute;top:12%;left:50%;transform:translateX(-50%);
  z-index:50;pointer-events:none;
  animation:sysMsgIn .3s ease-out,sysMsgOut .4s ease-in 1.8s forwards;
}
.sysMsgText{
  display:inline-block;font-family:monospace;
  font-size:13px;font-weight:700;letter-spacing:.22em;text-transform:uppercase;
  color:rgba(255,80,80,.92);background:rgba(6,4,4,.72);
  border:1px solid rgba(255,40,40,.30);border-radius:4px;
  padding:6px 14px;text-shadow:0 0 12px rgba(255,40,40,.6);
  box-shadow:0 0 20px rgba(255,20,20,.15);
}
@keyframes sysMsgIn{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}
@keyframes sysMsgOut{from{opacity:1}to{opacity:0}}

/* ── GLITCH OVERLAY ── */
.glitchOverlay{position:absolute;inset:0;pointer-events:none;z-index:30;overflow:hidden}
.glitchBar{position:absolute;left:0;right:0;height:2px;background:rgba(255,40,40,.5);opacity:0}
.glitchOverlay--subtle .glitchBar{animation:glitchBarMove 6s ease-in-out infinite}
.glitchOverlay--moderate .glitchBar{animation:glitchBarMove 3.5s ease-in-out infinite;background:rgba(255,40,40,.7)}
.glitchOverlay--heavy .glitchBar{animation:glitchBarMove 1.8s ease-in-out infinite;background:rgba(255,60,60,.9);height:3px}
.glitchBar--1{top:20%;animation-delay:0s!important}
.glitchBar--2{top:55%;animation-delay:.8s!important}
.glitchBar--3{top:78%;animation-delay:1.6s!important}
@keyframes glitchBarMove{
  0%,92%,100%{opacity:0;transform:translateX(0) scaleX(1)}
  93%{opacity:1;transform:translateX(-4%) scaleX(1.04)}
  94%{opacity:0;transform:translateX(3%) scaleX(.98)}
  95%{opacity:1;transform:translateX(-2%) scaleX(1.01)}
  96%{opacity:0}
}
.glitchOverlay--heavy::before{
  content:"";position:absolute;inset:0;
  animation:screenGlitch 3s linear infinite;background:transparent;
}
@keyframes screenGlitch{
  0%,94%,100%{transform:none;opacity:0}
  95%{transform:translate(-3px,0) skewX(-1deg);opacity:1}
  96%{transform:translate(3px,0) skewX(1deg);opacity:1}
  97%{transform:none;opacity:0}
}

/* ── PARTICLES ── */
.particleContainer{position:absolute;inset:0;overflow:hidden;pointer-events:none;z-index:10}
.particle{position:absolute;border-radius:50%;bottom:-10px}
.particle--dust{width:3px;height:3px;background:rgba(200,180,140,.55);animation:particleRise linear infinite}
.particle--embers{width:2px;height:2px;background:rgba(255,120,40,.8);box-shadow:0 0 4px rgba(255,80,20,.6);animation:particleRise linear infinite}
.particle--ash{width:3px;height:3px;background:rgba(150,140,160,.6);border-radius:2px;animation:particleFall linear infinite}
.particle--mist{width:60px;height:60px;background:radial-gradient(circle,rgba(120,150,180,.18),transparent 70%);border-radius:50%;animation:particleDrift ease-in-out infinite}
.particle--static{width:2px;height:2px;background:rgba(220,220,255,.8);animation:staticFlicker linear infinite}
@keyframes particleRise{from{transform:translateY(0) translateX(0);opacity:0}10%{opacity:1}90%{opacity:.6}to{transform:translateY(-110vh) translateX(20px);opacity:0}}
@keyframes particleFall{from{transform:translateY(-40px) translateX(0);opacity:0}10%{opacity:.7}to{transform:translateY(110vh) translateX(15px);opacity:0}}
@keyframes particleDrift{0%{transform:translate(0,0) scale(1);opacity:0}20%{opacity:.5}50%{transform:translate(30px,-20px) scale(1.3);opacity:.3}80%{opacity:.1}100%{transform:translate(60px,-40px) scale(1.6);opacity:0}}
@keyframes staticFlicker{0%,100%{opacity:0}50%{opacity:1}}

/* ── DOOR VARIATIONS ── */
.door--worn{border-color:rgba(120,90,60,.45)!important;background:rgba(60,40,20,.22)!important}
.door--worn::before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(45deg,transparent 0px,transparent 8px,rgba(80,50,20,.08) 8px,rgba(80,50,20,.08) 9px);border-radius:inherit}
.door--chained{border-color:rgba(160,130,80,.55)!important;background:rgba(80,60,20,.28)!important;box-shadow:inset 0 0 20px rgba(0,0,0,.6)}
.door--cursed{border-color:rgba(160,30,30,.55)!important;background:rgba(80,10,10,.32)!important;animation:cursedDoorPulse 2.5s ease-in-out infinite}
@keyframes cursedDoorPulse{0%,100%{box-shadow:none}50%{box-shadow:0 0 18px rgba(200,20,20,.35),inset 0 0 12px rgba(150,10,10,.3)}}
.door--blank{border-color:rgba(60,60,80,.30)!important;background:rgba(20,20,30,.30)!important}

/* ── LEVEL THEME SPECIFICS ── */
.doorScreen--checkpoint .scanlinesOverlay{opacity:.9}
.doorScreen--corridor .roomBackWall{background-image:repeating-linear-gradient(to bottom,transparent 0px,transparent 24px,rgba(200,180,120,.04) 24px,rgba(200,180,120,.04) 25px)}
.doorScreen--elevator .world{animation:elevatorVibrate .3s ease-in-out infinite alternate}
@keyframes elevatorVibrate{from{transform:translateX(0)}to{transform:translateX(1px)}}
.doorScreen--empty .fogLayer{animation:echoPulse 5s ease-in-out infinite}
@keyframes echoPulse{0%,100%{opacity:.12}50%{opacity:.22}}
.doorScreen--roof .world{border-color:rgba(255,30,30,.25)!important;box-shadow:0 0 30px rgba(200,20,20,.20) inset}
.doorScreen--roof .doorsWall{filter:contrast(1.05) saturate(.85)}
